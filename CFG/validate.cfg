validate_space(){
declare -i num
local str=$( df -l | awk '{print $5}' | head -2 | tail -1 | sed 's/%//g' )
let "num=$str"
if [ $num -gt 80 ];then
trace ERR not enough disk space
df -l
exit 1
else 
trace we have enough  space: $num
fi
}

validate_volume_mongo(){
  echo 'validating existance of local dir: /data/db'
  ( test -d /data/db ) || ( sudo mkdir -p /data/db )
}

export -f validate_space
export -f validate_volume_mongo
